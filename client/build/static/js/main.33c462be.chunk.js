(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(t,n,e){"use strict";e.r(n);var r=e(0),c=e(1),o=e.n(c),a=e(33),i=e.n(a),u=(e(72),e(73),e(16)),s=e(9),b=e(4),j=e(5),l=e(3),d=e(30),f={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"]};function O(){var t=Object(b.a)(["\n            background: ",";\n            &:hover{\n                background: ",";\n            }\n        "]);return O=function(){return t},t}function p(){var t=Object(b.a)(["\n            padding-top: 0.75rem;\n            padding-bottom: 0.75rem;\n            width: 100%;\n            font-size: 1.125rem;\n        "]);return p=function(){return t},t}function m(){var t=Object(b.a)(["\n    border: none;\n    border-radius: 4px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 0.25rem 1rem;\n    color: white;\n    outline: none;\n    cursor: pointer;\n\n    background: ",";\n    &:hover {\n        background: ",";\n    }\n\n    &:disabled {\n        background: ",";\n        color: ",";\n        cursor: not-allowed;\n    }\n\n    ","\n    ","\n"]);return m=function(){return t},t}var g=j.b.button(m(),f.gray[8],f.gray[6],f.gray[3],f.gray[5],(function(t){return t.fullWidth&&Object(j.a)(p())}),(function(t){return t.cyan&&Object(j.a)(O(),f.cyan[5],f.cyan[4])})),h=Object(u.e)((function(t){var n=t.to,e=t.history,c=Object(d.a)(t,["to","history"]);return Object(r.jsx)(g,Object(l.a)(Object(l.a)({},c),{},{onClick:function(t){n&&e.push(n),c.onClick&&c.onClick(t)}}))}));function v(){var t=Object(b.a)(["\n    padding-left: 1rem;\n    padding-right: 1rem;\n    width: 1024px;\n    margin: 0 auto; /* \uc911\uc559\uc815\ub82c */\n\n    @media (max-width: 1024px){\n        width: 768px;\n    }\n\n    @media (max-width: 768px) {\n        width: 100%;\n    }\n "]);return v=function(){return t},t}var x=j.b.div(v()),y=function(t){var n=t.children,e=Object(d.a)(t,["children"]);return Object(r.jsx)(x,Object(l.a)(Object(l.a)({},e),{},{children:n}))},w=e(13);function k(){var t=Object(b.a)(["\n\tfont-weight: 800;\n\tmargin-right: 1rem;\n"]);return k=function(){return t},t}function E(){var t=Object(b.a)(["\n\theight: 4rem;\n"]);return E=function(){return t},t}function C(){var t=Object(b.a)(["\n\theight: 4rem;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\t.logo {\n\t\tfont-size: 1.125rem;\n\t\tfont-weight: 800;\n\t\tletter-spacing: 2px;\n\t}\n\t.right {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t.conetent {\n\t\tdisplay: flex;\n\t\talign-items: left;\n\t}\n"]);return C=function(){return t},t}function S(){var t=Object(b.a)(["\n\tposition: fixed;\n\twidth: 100%;\n\tbackground: white;\n\tbox-shadow: 0px 2px 4px rgba(0, 0, 0, 0.08);\n"]);return S=function(){return t},t}var I,T,P=j.b.div(S()),_=Object(j.b)(y)(C()),L=j.b.div(E()),D=j.b.div(k()),R=function(t){var n=t.username;return Object(r.jsx)(D,{children:Object(r.jsx)(w.b,{to:"/@"+n,children:n})})},N=function(t){var n=t.user,e=t.onLogout;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(P,{children:Object(r.jsxs)(_,{children:[Object(r.jsx)(w.b,{to:"/",className:"logo",children:"MyJunkPage"}),n?Object(r.jsxs)("div",{className:"right",children:[Object(r.jsx)(R,{username:n.username,children:"\ub2d8 \ubc18\uac11\uc2b5\ub2c8\ub2e4."}),Object(r.jsx)(h,{onClick:e,children:"\ub85c\uadf8\uc544\uc6c3"})]}):Object(r.jsx)("div",{className:"right",children:Object(r.jsx)(h,{to:"/login",children:"\ub85c\uadf8\uc778"})})]})}),Object(r.jsx)(L,{})]})},A=e(7),F=e(12),M=e.n(F),z=e(15),H=e(104),B=e(103),G=e(14),U=e(61),W=e.n(U).a.create(),J=function(){W.post("/api/auth/logout")},q="loading/START_LOADING",Z="loading/FINISH_LOADING",Q=Object(H.a)(q,(function(t){return t})),K=Object(H.a)(Z,(function(t){return t})),$=Object(B.a)((I={},Object(A.a)(I,q,(function(t,n){return Object(l.a)(Object(l.a)({},t),{},Object(A.a)({},n.payload,!0))})),Object(A.a)(I,Z,(function(t,n){return Object(l.a)(Object(l.a)({},t),{},Object(A.a)({},n.payload,!1))})),I),{}),V=function(t){return[t,"".concat(t,"_SUCCESS"),"".concat(t,"_FAILURE")]};function X(t,n){var e="".concat(t,"_SUCCESS"),r="".concat(t,"_FAILURE");return M.a.mark((function c(o){var a;return M.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(G.c)(Q(t));case 2:return c.prev=2,c.next=5,Object(G.b)(n,o.payload);case 5:return a=c.sent,c.next=8,Object(G.c)({type:e,payload:a.data,meta:a});case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(2),c.next=14,Object(G.c)({type:r,payload:c.t0,error:!0});case 14:return c.next=16,Object(G.c)(K(t));case 16:case"end":return c.stop()}}),c,null,[[2,10]])}))}var Y=M.a.mark(lt),tt=M.a.mark(dt),nt="user/TEMP_SET_USER",et=V("user/CHECK"),rt=Object(z.a)(et,3),ct=rt[0],ot=rt[1],at=rt[2],it="user/LOGOUT",ut=Object(H.a)(nt,(function(t){return t})),st=Object(H.a)(ct),bt=Object(H.a)(it),jt=X(ct,(function(){return W.get("/api/auth/check")}));function lt(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.d)(ct,jt);case 2:return t.next=4,Object(G.d)(at,ft);case 4:return t.next=6,Object(G.d)(it,dt);case 6:case"end":return t.stop()}}),Y)}function dt(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(G.b)(J);case 3:localStorage.removeItem("user"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log("localStorage is not working");case 9:case"end":return t.stop()}}),tt,null,[[0,6]])}function ft(){try{localStorage.removeItem("user")}catch(t){console.log("localStorage is not working")}}var Ot=Object(B.a)((T={},Object(A.a)(T,nt,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{user:e})})),Object(A.a)(T,ot,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{user:e,checkError:null})})),Object(A.a)(T,at,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{user:null,checkError:e})})),Object(A.a)(T,it,(function(t){return Object(l.a)(Object(l.a)({},t),{},{user:null})})),T),{user:null,checkError:null}),pt=function(){var t=Object(s.c)((function(t){return{user:t.user.user}})).user,n=Object(s.b)();return Object(r.jsx)(N,{user:t,onLogout:function(){n(bt())}})},mt=e(38),gt=e(24),ht=e.n(gt);function vt(){var t=Object(b.a)(["\n\t\t\t\tfont-weight: bold;\n\t\t\t"]);return vt=function(){return t},t}function xt(){var t=Object(b.a)(["\n\tpadding: 0.125rem 0.5rem 0 0.5rem;\n\t\n\t","\n\t&:hover {\n\t\tcolor: ",";\n\t\tborder: 1px solid ",";\n\t}\n"]);return xt=function(){return t},t}var yt=j.b.div(xt(),(function(t){return t.currentPage&&Object(j.a)(vt())}),f.cyan[6],f.gray[3]),wt=Object(u.e)((function(t){var n=t.to,e=t.history,c=Object(d.a)(t,["to","history"]);return Object(r.jsx)(yt,Object(l.a)(Object(l.a)({},c),{},{onClick:function(t){n&&e.push(n),c.onClick&&c.onClick(t)}}))}));function kt(){var t=Object(b.a)(["\n\twidth: 320px;\n\tmargin: 0 auto;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin-bottom: 3rem;\n"]);return kt=function(){return t},t}var Et=j.b.div(kt()),Ct=function(t){var n=t.username,e=t.tag,r=t.page,c=ht.a.stringify({tag:e,page:r});return n?"/@".concat(n,"?").concat(c):"/?".concat(c)},St=function(t){var n=t.page,e=t.tag,c=t.username,o=t.lastPage;return Object(r.jsxs)(Et,{children:[Object(r.jsx)(h,{disabled:1===n,to:1===n?void 0:Ct({username:c,tag:e,page:n-1}),children:"\uc774\uc804"}),Object(mt.a)(Array(5)).map((function(t,a){var i=a+5*(Math.ceil(n/5)-1)+1;return i<=o&&i>0?i===n?Object(r.jsx)(wt,{currentPage:!0,children:i},i):Object(r.jsx)(wt,{to:Ct({username:c,tag:e,page:i}),children:i},i):void 0})),Object(r.jsx)(h,{disabled:n>=o,to:n===o?void 0:Ct({username:c,tag:e,page:n+1}),children:"\ub2e4\uc74c"})]})},It=Object(u.e)((function(t){var n=t.location,e=Object(s.c)((function(t){var n=t.posts,e=t.loading;return{lastPage:n.lastPage,posts:n.posts,loading:e["posts/LIST_POSTS"]}})),c=e.lastPage,o=e.posts,a=e.loading;if(!o||a)return null;var i=ht.a.parse(n.search,{ignoreQueryPrefix:!0}),u=i.tag,b=i.username,j=i.page,l=void 0===j?1:j;return Object(r.jsx)(St,{tag:u,username:b,page:parseInt(l,10),lastPage:c})}));function Tt(){var t=Object(b.a)(["\n\t\t\tmargin-top: 1rem;\n\t\t"]);return Tt=function(){return t},t}function Pt(){var t=Object(b.a)(["\n\t","\n    color: ",";\n\n    /* span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec \uc8fc\uae30 */\n    span + span:before {\n        color: ",";\n        padding-left: 0.25rem;\n        padding-right: 0.25rem;\n        content: '\\B7' /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n"],["\n\t","\n    color: ",";\n\n    /* span \uc0ac\uc774\uc5d0 \uac00\uc6b4\ub383\uc810 \ubb38\uc790 \ubcf4\uc5ec \uc8fc\uae30 */\n    span + span:before {\n        color: ",";\n        padding-left: 0.25rem;\n        padding-right: 0.25rem;\n        content: '\\\\B7' /* \uac00\uc6b4\ub383\uc810 \ubb38\uc790 */\n    }\n"]);return Pt=function(){return t},t}var _t=j.b.div(Pt(),(function(t){return t.hasMarginTop&&Object(j.a)(Tt())}),f.gray[6],f.gray[5]),Lt=function(t){var n=t.username,e=t.publishedDate,c=t.hasMarginTop;return Object(r.jsxs)(_t,{hasMarginTop:c,children:[Object(r.jsx)("span",{children:Object(r.jsx)("b",{children:Object(r.jsx)(w.b,{to:"/@".concat(n),children:n})})}),Object(r.jsx)("span",{children:new Date(e).toLocaleDateString()})]})};function Dt(){var t=Object(b.a)(["\n    margin-top: 0.5rem;\n    .tag {\n        display: inline-block;\n        color: ",";\n        text-decoration: none;\n        margin-right: 0.5rem;\n\n        &:hover {\n            color: ",";\n        }\n    }\n "]);return Dt=function(){return t},t}var Rt=j.b.div(Dt(),f.cyan[7],f.cyan[6]),Nt=function(t){var n=t.tags;return Object(r.jsx)(Rt,{children:n.map((function(t){return Object(r.jsxs)(w.b,{className:"tag",to:"/?tag=".concat(t),children:[" #",t," "]},t)}))})};function At(){var t=Object(b.a)(["\n\tpadding-top: 3rem;\n\tpadding-bottom: 3rem;\n\n\t&:first-child {\n\t\tpadding-top: 0;\n\t}\n\t& + & {\n\t\tborder-top: 1px solid ",";\n\t}\n\n\th2 {\n\t\tfont-size: 2rem;\n\t\tmargin-bottom: 0;\n\t\tmaring-top: 0;\n\t\t&:hover {\n\t\t\tcolor: ",";\n\t\t}\n\t}\n\tp {\n\t\tmargin-top: 2rem;\n\t}\n"]);return At=function(){return t},t}function Ft(){var t=Object(b.a)(["\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin-bottom: 3rem;\n"]);return Ft=function(){return t},t}function Mt(){var t=Object(b.a)(["\n\tmargin-top: 3rem;\n"]);return Mt=function(){return t},t}var zt,Ht=Object(j.b)(y)(Mt()),Bt=j.b.div(Ft()),Gt=j.b.div(At(),f.gray[2],f.gray[6]),Ut=function(t){var n=t.post,e=n.publishedDate,c=n.user,o=n.tags,a=n.title,i=n.body,u=n._id;return Object(r.jsxs)(Gt,{children:[Object(r.jsx)(w.b,{to:"/@".concat(c.username,"/").concat(u),children:Object(r.jsxs)("h2",{children:[" ",a," "]})}),Object(r.jsx)(Lt,{username:c.username,publishedDate:new Date(e)}),Object(r.jsx)(Nt,{tags:o}),Object(r.jsx)("p",{children:i})]})},Wt=function(t){var n=t.posts,e=t.loading,c=t.error,o=t.showWriteButton;return c?Object(r.jsx)(Ht,{children:"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."}):Object(r.jsxs)(Ht,{children:[Object(r.jsx)(Bt,{children:o&&Object(r.jsx)(h,{cyan:!0,to:"/write",children:"\uc0c8 \uae00 \uc791\uc131\ud558\uae30"})}),!e&&n&&Object(r.jsx)("div",{children:n.map((function(t){return Object(r.jsx)(Ut,{post:t},t._id)}))})]})},Jt=M.a.mark(Yt),qt=V("posts/LIST_POSTS"),Zt=Object(z.a)(qt,3),Qt=Zt[0],Kt=Zt[1],$t=Zt[2],Vt=Object(H.a)(Qt,(function(t){return{tag:t.tag,username:t.username,page:t.page}})),Xt=X(Qt,(function(t){var n=t.page,e=t.username,r=t.tag,c=ht.a.stringify({page:n,username:e,tag:r});return W.get("/api/posts?".concat(c))}));function Yt(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.d)(Qt,Xt);case 2:case"end":return t.stop()}}),Jt)}var tn=Object(B.a)((zt={},Object(A.a)(zt,Kt,(function(t,n){var e=n.payload,r=n.meta;return Object(l.a)(Object(l.a)({},t),{},{posts:e,lastPage:parseInt(r.headers["last-page"])})})),Object(A.a)(zt,$t,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{error:e})})),zt),{posts:null,error:null,lastPage:1}),nn=Object(u.e)((function(t){var n=t.match,e=t.location,o=Object(s.b)(),a=Object(s.c)((function(t){var n=t.posts,e=t.loading,r=t.user;return{posts:n.posts,error:n.error,loading:e["posts/LIST_POSTS"],user:r.user}})),i=a.posts,u=a.error,b=a.loading,j=a.user;return Object(c.useEffect)((function(){var t=ht.a.parse(e.search,{ignoreQueryPrefix:!0}),r=t.tag,c=t.page,a=n.params.username;o(Vt({tag:r,username:a,page:c}))}),[o,e.search,n]),Object(r.jsx)(Wt,{loading:b,error:u,posts:i,showWriteButton:j})}));var en=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(pt,{}),Object(r.jsx)(nn,{}),Object(r.jsx)(It,{})]})};function rn(){var t=Object(b.a)(["\n    .logo-area {\n        display: block;\n        padding-bottom: 2rem;\n        text-align: center;\n        font-weight: bold;\n        letter-spacing: 2px;\n    }\n\n    box-shadow: 0 0 8px rgba(0,0,0,0.025);\n    padding: 2rem;\n    width: 360px;\n    background: white;\n    border-radius: 2px;\n "]);return rn=function(){return t},t}function cn(){var t=Object(b.a)(["\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    background: ",";\n    /*flex\ub85c \ub0b4\ubd80 \ub0b4\uc6a9 \uc911\uc559 \uc815\ub82c*/\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n "]);return cn=function(){return t},t}var on=j.b.div(cn(),f.gray[2]),an=j.b.div(rn());var un,sn=function(t){var n=t.children;return Object(r.jsx)(on,{children:Object(r.jsxs)(an,{children:[Object(r.jsx)("div",{className:"logo-area",children:Object(r.jsx)(w.b,{to:"/",children:"REACTERS"})}),n]})})},bn=e(62),jn=M.a.mark(Tn),ln="auth/CHANGE_FIELD",dn="auth/INITALIZE_FORM",fn=V("auth/REGISTER"),On=Object(z.a)(fn,3),pn=On[0],mn=On[1],gn=On[2],hn=V("auth/LOGIN"),vn=Object(z.a)(hn,3),xn=vn[0],yn=vn[1],wn=vn[2],kn=Object(H.a)(ln,(function(t){return{form:t.form,key:t.key,value:t.value}})),En=Object(H.a)(pn,(function(t){return{username:t.username,password:t.password}})),Cn=Object(H.a)(xn,(function(t){return{username:t.username,password:t.password}})),Sn=X(pn,(function(t){var n=t.username,e=t.password;return W.post("/api/auth/register",{username:n,password:e})})),In=X(xn,(function(t){var n=t.username,e=t.password;return W.post("/api/auth/login",{username:n,password:e})}));function Tn(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.d)(pn,Sn);case 2:return t.next=4,Object(G.d)(xn,In);case 4:case"end":return t.stop()}}),jn)}var Pn=Object(H.a)(dn,(function(t){return t})),_n={register:{username:"",password:"",passwordConfirm:""},login:{username:"",password:""}},Ln=Object(B.a)((un={},Object(A.a)(un,ln,(function(t,n){var e=n.payload,r=e.form,c=e.key,o=e.value;return Object(bn.a)(t,(function(t){t[r][c]=o}))})),Object(A.a)(un,dn,(function(t,n){var e,r=n.payload;return Object(l.a)(Object(l.a)({},t),{},(e={},Object(A.a)(e,r,_n[r]),Object(A.a)(e,"authError",null),e))})),Object(A.a)(un,mn,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{authError:null,auth:e})})),Object(A.a)(un,gn,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{authError:e})})),Object(A.a)(un,yn,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{authError:null,auth:e})})),Object(A.a)(un,wn,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{authError:e})})),un),_n);function Dn(){var t=Object(b.a)(["\n color: red;\n text-align: center;\n font-size: 0.875rem;\n margin-top: 1rem;\n "]);return Dn=function(){return t},t}function Rn(){var t=Object(b.a)(["\n\tmargin-top: 1rem;\n"]);return Rn=function(){return t},t}function Nn(){var t=Object(b.a)(["\n\tmargin-top: 2rem;\n\ttext-align: right;\n\ta {\n\t\tcolor: ",";\n\t\ttext-decoration: underline;\n\t\t&:hover {\n\t\t\tcolor: ",";\n\t\t}\n\t}\n"]);return Nn=function(){return t},t}function An(){var t=Object(b.a)(["\n\tfont-size: 1rem;\n\tborder: none;\n\tborder-bottom: 1px solid ",";\n\tpadding-bottom: 0.5rem;\n\toutline: none;\n\twidth: 100%;\n\t&:focus {\n\t\tcolor: $oc-teal-7;\n\t\tborder-bottom: 1px solid ",";\n\t}\n\n\t& + & {\n\t\tmargin-top: 1rem;\n\t}\n"]);return An=function(){return t},t}function Fn(){var t=Object(b.a)(["\n\th3 {\n\t\tmargin: 0;\n\t\tcolor: ",";\n\t\tmargin-bottom: 1rem;\n\t}\n"]);return Fn=function(){return t},t}var Mn=j.b.div(Fn(),f.gray[8]),zn=j.b.input(An(),f.gray[5],f.gray[7]),Hn=j.b.div(Nn(),f.gray[6],f.gray[9]),Bn=Object(j.b)(h)(Rn()),Gn=j.b.div(Dn()),Un={login:"\ub85c\uadf8\uc778",register:"\ud68c\uc6d0\uac00\uc785"},Wn=function(t){var n=t.type,e=t.form,c=t.onChange,o=t.onSubmit,a=t.error,i=Un[n];return Object(r.jsxs)(Mn,{children:[Object(r.jsx)("h3",{children:i}),Object(r.jsxs)("form",{onSubmit:o,children:[Object(r.jsx)(zn,{autoComplete:"username",name:"username",placeholder:"\uc544\uc774\ub514",onChange:c,value:e.username}),Object(r.jsx)(zn,{autoComplete:"new-password",name:"password",placeholder:"\ube44\ubc00\ubc88\ud638",type:"password",onChange:c,value:e.password}),"register"===n&&Object(r.jsx)(zn,{autoComplete:"new-password",name:"passwordConfirm",placeholder:"\ube44\ubc00\ubc88\ud638\ud655\uc778",type:"password",onChange:c,value:e.passwordConfirm}),a&&Object(r.jsx)(Gn,{children:a}),Object(r.jsx)(Bn,{fullWidth:!0,children:i})]}),Object(r.jsx)(Hn,{children:"login"===n?Object(r.jsx)(w.b,{to:"/register",children:"\ud68c\uc6d0\uac00\uc785"}):Object(r.jsx)(w.b,{to:"/login",children:"\ub85c\uadf8\uc778"})})]})},Jn=Object(u.e)((function(t){var n=t.history,e=Object(s.b)(),o=Object(s.c)((function(t){var n=t.auth,e=t.user;return{form:n.login,auth:n.auth,authError:n.authError,user:e.user}})),a=o.form,i=o.auth,u=o.authError,b=o.user,j=Object(c.useState)(null),l=Object(z.a)(j,2),d=l[0],f=l[1];return Object(c.useEffect)((function(){e(Pn("login"))}),[e]),Object(c.useEffect)((function(){if(u)return console.log("\uc624\ub958 \ubc1c\uc0dd"),console.log(u),void f("\ub85c\uadf8\uc778 \uc2e4\ud328");i&&(console.log("\ub85c\uadf8\uc778 \uc131\uacf5"),e(st()))}),[i,u,e]),Object(c.useEffect)((function(){if(b){n.push("/");try{localStorage.setItem("user",JSON.stringify(b))}catch(t){console.log("localStorage is not working")}}}),[n,b]),Object(r.jsx)(Wn,{type:"login",form:a,onChange:function(t){var n=t.target,r=n.value,c=n.name;e(kn({form:"login",key:c,value:r}))},onSubmit:function(t){t.preventDefault();var n=a.username,r=a.password;e(Cn({username:n,password:r}))},error:d})}));var qn=function(){return Object(r.jsx)(sn,{children:Object(r.jsx)(Jn,{})})},Zn=Object(u.e)((function(t){var n=t.history,e=Object(s.b)(),o=Object(s.c)((function(t){var n=t.auth,e=t.user;return{form:n.register,auth:n.auth,authError:n.authError,user:e.user}})),a=o.form,i=o.auth,u=o.authError,b=o.user,j=Object(c.useState)(null),l=Object(z.a)(j,2),d=l[0],f=l[1];return Object(c.useEffect)((function(){e(Pn("register"))}),[e]),Object(c.useEffect)((function(){b&&n.push("/")}),[n,b]),Object(c.useEffect)((function(){if(u)return 409===u.response.status&&f("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uacc4\uc815\uba85 \uc785\ub2c8\ub2e4."),void f("\ud68c\uc6d0\uac00\uc785 \uc2e4\ud328");i&&(console.log("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),console.log(i),e(st()))}),[i,u,e]),Object(c.useEffect)((function(){if(b){console.log("check API \uc131\uacf5"),console.log(b),n.push("/");try{localStorage.setItem("user",JSON.stringify(b))}catch(t){console.log("localStorage is not working")}}}),[n,b]),Object(r.jsx)(Wn,{type:"register",form:a,onChange:function(t){var n=t.target,r=n.value,c=n.name;e(kn({form:"register",key:c,value:r}))},onSubmit:function(t){t.preventDefault();var n=a.username,r=a.password,c=a.passwordConfirm;if(![n,r,c].includes(""))return r!==c?(f("\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),e(kn({form:"register",key:"password",value:""})),void e(kn({form:"register",key:"passwordConfirm",value:""}))):void e(En({username:n,password:r}));f("\ube48 \uce78\uc744 \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694")},error:d})}));var Qn,Kn=function(){return Object(r.jsx)(sn,{children:Object(r.jsx)(Zn,{})})},$n=e(25),Vn=M.a.mark(ge),Xn="write/INITIALIZE",Yn="write/CHANGE_FIELD",te=V("write/WRITE_POST"),ne=Object(z.a)(te,3),ee=ne[0],re=ne[1],ce=ne[2],oe=V("write/UPDATE_POST"),ae=Object(z.a)(oe,3),ie=ae[0],ue=ae[1],se=ae[2],be="write/SET_ORIGINAL_POST",je=Object(H.a)(Xn),le=Object(H.a)(Yn,(function(t){return{key:t.key,value:t.value}})),de=Object(H.a)(ee,(function(t){return{title:t.title,body:t.body,tags:t.tags}})),fe=Object(H.a)(ie,(function(t){return{id:t.id,title:t.title,body:t.body,tags:t.tags}})),Oe=Object(H.a)(be,(function(t){return t})),pe=X(ee,(function(t){var n=t.title,e=t.body,r=t.tags;return W.post("/api/posts",{title:n,body:e,tags:r})})),me=X(ie,(function(t){var n=t.id,e=t.title,r=t.body,c=t.tags;return W.patch("/api/posts/".concat(n),{title:e,body:r,tags:c})}));function ge(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.d)(ee,pe);case 2:return t.next=4,Object(G.d)(ie,me);case 4:case"end":return t.stop()}}),Vn)}var he={title:"",body:"",tags:[],post:null,postError:null,originalPostId:null},ve=Object(B.a)((Qn={},Object(A.a)(Qn,Xn,(function(t){return he})),Object(A.a)(Qn,Yn,(function(t,n){var e=n.payload,r=e.key,c=e.value;return Object(l.a)(Object(l.a)({},t),{},Object(A.a)({},r,c))})),Object(A.a)(Qn,ee,(function(t){return Object(l.a)(Object(l.a)({},t),{},{post:null,postError:null})})),Object(A.a)(Qn,re,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{post:e})})),Object(A.a)(Qn,ce,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{postError:e})})),Object(A.a)(Qn,ue,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{post:e})})),Object(A.a)(Qn,se,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{postError:e})})),Object(A.a)(Qn,be,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{title:e.title,body:e.body,tags:e.tags,originalPostId:e._id})})),Qn),he),xe=e(37),ye=e.n(xe);e(57);function we(){var t=Object(b.a)(["\n    /* \ucd5c\uc18c \ud06c\uae30 \uc9c0\uc815 \ubc0f padding \uc81c\uac70 */\n    .ql-editor {\n        padding: 0;\n        min-height: 320px;\n        font-size: 1.125rem;\n        line-height: 1.5;\n    }\n    .ql-editor.ql-blank::before{\n        left: 0px;\n    }\n "]);return we=function(){return t},t}function ke(){var t=Object(b.a)(["\n    font-size: 3rem;\n    outline: none;\n    padding-bottom: 2rem;\n    border: none;\n    border-bottom: 1px solid ","\n    margin-bottom: 3rem;\n    width: 100%;\n "]);return ke=function(){return t},t}function Ee(){var t=Object(b.a)(["\n    /* \ud398\uc774\uc9c0 \uc704\uc544\ub798 \uc5ec\ubc31 */\n    padding-top : 5rem;\n    padding-bottom: 5rem;\n "]);return Ee=function(){return t},t}var Ce=j.b.div(Ee()),Se=j.b.input(ke(),f.gray[4]),Ie=j.b.div(we()),Te=function(t){var n=t.title,e=t.body,o=t.onChangeField,a=Object(c.useRef)(null),i=Object(c.useRef)(null);Object(c.useEffect)((function(){i.current=new ye.a(a.current,{theme:"snow",placeholder:"\ub0b4\uc6a9\uc744 \uc791\uc131\ud558\uc138\uc694...",modules:{toolbar:[[{font:[]}],[{size:["smail","large","huge"]}],[{header:1},{header:2}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block","link","image"]]}});var t=i.current;t.on("text-change",(function(n,e,r){"user"===r&&o({key:"body",value:t.root.innerHTML})}))}),[o]);var u=Object(c.useRef)(!1);Object(c.useEffect)((function(){u.current||(u.current=!0,i.current.root.innerHTML=e)}),[]);return Object(r.jsxs)(Ce,{children:[Object(r.jsx)(Se,{placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",onChange:function(t){o({key:"title",value:t.target.value})},value:n}),Object(r.jsx)(Ie,{children:Object(r.jsx)("div",{ref:a})})]})},Pe=function(){var t=Object(s.b)(),n=Object(s.c)((function(t){var n=t.write;return{title:n.title,body:n.body}})),e=n.title,o=n.body,a=Object(c.useCallback)((function(n){return t(le(n))}),[t]);return Object(c.useEffect)((function(){return function(){t(je())}}),[t]),Object(r.jsx)(Te,{onChangeField:a,title:e,body:o})};function _e(){var t=Object(b.a)(["\n\tdisplay: flex;\n\tmargin-top: 0.5rem;\n"]);return _e=function(){return t},t}function Le(){var t=Object(b.a)(["\n\tmargin-right: 0.5rem;\n\tcolor: ",";\n\tcursor: pointer;\n\t&:hover {\n\t\topacity: 0.5;\n\t}\n"]);return Le=function(){return t},t}function De(){var t=Object(b.a)(["\n    border-radius: 4px;\n    overflow: hidden;\n    display: flex;\n    width: 256px;\n    border: 1px solid ","\n    input,\n    button {\n        outline: none;\n        border: none;\n        font-size: 1rem;\n    }\n\n    input {\n        padding: 0.5rem;\n        flex: 1;\n        min-width: 0;\n    }\n\n    button {\n        cursor: pointer,\n            padding-right: 1rem;\n            padding-left: 1rem;\n            border: none;\n            background: ",";\n            color: white;\n            font-weight: bold;\n            &:hover {\n                background: ",";\n            }\n    }\n"]);return De=function(){return t},t}function Re(){var t=Object(b.a)(["\n    width:100%;\n    border-top: 1px solid ","\n    padding-top: 2rem;\n\n    h4{\n        color: ","\n        margin-top: 0;\n        margin-bottom: 0.5rem;\n    }\n"]);return Re=function(){return t},t}var Ne=j.b.div(Re(),f.gray[2],f.gray[8]),Ae=j.b.form(De(),f.gray[9],f.gray[8],f.gray[6]),Fe=j.b.div(Le(),f.gray[6]),Me=j.b.div(_e()),ze=o.a.memo((function(t){var n=t.tag,e=t.onRemove;return Object(r.jsxs)(Fe,{onClick:function(){return e(n)},children:["#",n]})})),He=o.a.memo((function(t){var n=t.tags,e=t.onRemove;return Object(r.jsx)(Me,{children:n.map((function(t){return Object(r.jsx)(ze,{tag:t,onRemove:e},t)}))})})),Be=function(t){var n=t.tags,e=t.onChangeTags,o=Object(c.useState)(""),a=Object(z.a)(o,2),i=a[0],u=a[1],s=Object(c.useState)([]),b=Object(z.a)(s,2),j=b[0],l=b[1],d=Object(c.useCallback)((function(t){if(t&&!j.includes(t)){var n=[].concat(Object(mt.a)(j),[t]);l(n),e(n)}}),[j,e]),f=Object(c.useCallback)((function(t){var n=j.filter((function(n){return n!==t}));l(n),e(n)}),[j,e]),O=Object(c.useCallback)((function(t){u(t.target.value)}),[]),p=Object(c.useCallback)((function(t){t.preventDefault(),d(i.trim()),u("")}),[i,d]);return Object(c.useEffect)((function(){l(n)}),[n]),Object(r.jsxs)(Ne,{children:[Object(r.jsx)("h4",{children:"\ud0dc\uadf8"}),Object(r.jsxs)(Ae,{onSubmit:p,children:[Object(r.jsx)("input",{placeholder:"\ud0dc\uadf8\ub97c \uc785\ub825\ud558\uc138\uc694",value:i,onChange:O}),Object(r.jsx)("button",{type:"submit",children:"\ucd94\uac00"})]}),Object(r.jsx)(He,{tags:j,onRemove:f})]})},Ge=function(){var t=Object(s.b)(),n=Object(s.c)((function(t){return t.write.tags}));return Object(r.jsx)(Be,{onChangeTags:function(n){t(le({key:"tags",value:n}))},tags:n})};function Ue(){var t=Object(b.a)(["\n\theight: 2.2125rem;\n\t& + & {\n\t\tmargin-left: 0.5rem;\n\t}\n"]);return Ue=function(){return t},t}function We(){var t=Object(b.a)(["\n\tmargin-top: 1rem;\n\tmargin-bottom: 3rem;\n\tbutton + button {\n\t\tmargin-left: 0.5rem;\n\t}\n"]);return We=function(){return t},t}var Je=j.b.div(We()),qe=Object(j.b)(h)(Ue());var Ze=function(t){var n=t.onCancel,e=t.onPublish,c=t.isEdit;return Object(r.jsxs)(Je,{children:[Object(r.jsxs)(qe,{cyan:!0,onClick:e,children:["\ud3ec\uc2a4\ud2b8 ",c?"\uc218\uc815":"\ub4f1\ub85d"]}),Object(r.jsx)(qe,{onClick:n,children:"\ucde8\uc18c"})]})},Qe=Object(u.e)((function(t){var n=t.history,e=Object(s.b)(),o=Object(s.c)((function(t){var n=t.write;return{title:n.title,body:n.body,tags:n.tags,post:n.post,postError:n.postError,originalPostId:n.originalPostId}})),a=o.title,i=o.body,u=o.tags,b=o.post,j=o.postError,l=o.originalPostId;return Object(c.useEffect)((function(){if(b){var t=b._id,e=b.user;n.push("/@".concat(e.username,"/").concat(t))}j&&console.log(j)}),[b,j,n]),Object(r.jsx)(Ze,{onPublish:function(){e(l?fe({title:a,body:i,tags:u,id:l}):de({title:a,body:i,tags:u}))},onCancel:function(){n.goBack()},isEdit:!!l})}));var Ke=function(){return Object(r.jsxs)(y,{children:[Object(r.jsx)($n.a,{children:Object(r.jsx)("title",{children:"\uae00 \uc791\uc131\ud558\uae30"})}),Object(r.jsx)(Pe,{}),Object(r.jsx)(Ge,{}),Object(r.jsx)(Qe,{})]})},$e=e(64);function Ve(){var t=Object(b.a)(["\n    height: 2rem;\n    & + & {\n        margin-left: 0.75rem;\n    }\n "]);return Ve=function(){return t},t}function Xe(){var t=Object(b.a)(["\n    width: 320px;\n    background: white;\n    padding: 1.5rem;\n    border-radius: 4px;\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.125);\n    h2{\n        margin-top: 0;\n        margin-bottom: 1rem;\n    }\n    p{\n        margin-bottom: 3rem;\n    }\n\n    .buttons{\n        display: flex;\n        justify-content: flex-end;\n    }\n "]);return Xe=function(){return t},t}function Ye(){var t=Object(b.a)(["\n\tposition: fixed;\n\tz-index: 30;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n    background: rgba(0, 0, 0, 0.25);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return Ye=function(){return t},t}var tr=j.b.div(Ye()),nr=j.b.div(Xe()),er=Object(j.b)(h)(Ve()),rr=function(t){var n=t.visible,e=t.title,c=t.description,o=t.confirmText,a=void 0===o?"\ud655\uc778":o,i=t.cancelText,u=void 0===i?"\ucde8\uc18c":i,s=t.onConfirm,b=t.onCancel;return n?Object(r.jsx)(tr,{children:Object(r.jsxs)(nr,{children:[Object(r.jsx)("h2",{children:e}),Object(r.jsx)("p",{children:c}),Object(r.jsxs)("div",{className:"buttons",children:[Object(r.jsx)(er,{onClick:b,children:u}),Object(r.jsx)(er,{cyan:!0,onClick:s,children:a})]})]})}):null},cr=function(t){var n=t.visible,e=t.onConfirm,c=t.onCancel;return Object(r.jsx)(rr,{visible:n,title:"\ud3ec\uc2a4\ud2b8 \uc0ad\uc81c",description:"\ud3ec\uc2a4\ud2b8\ub97c \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",confirmText:"\uc0ad\uc81c",onConfirm:e,onCancel:c})};function or(){var t=Object(b.a)(["\n    padding: 0.25rem 0.5rem;\n    border-radius: 4px;\n    color: ",";\n    font-weight: bold;\n    border: none;\n    outline: none;\n    font-size: 0.875rem;\n    cursor: pointer;\n    &:hover {\n        background: ",";\n        color: ",";\n    }\n\n    & + & {\n        margin-left: 0.25rem;\n    }\n "]);return or=function(){return t},t}function ar(){var t=Object(b.a)(["\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 2rem;\n    margin-top: -1.5rem;\n "]);return ar=function(){return t},t}var ir,ur=j.b.div(ar()),sr=j.b.button(or(),f.gray[6],f.gray[1],f.cyan[7]),br=function(t){var n=t.onEdit,e=t.onRemove,o=Object(c.useState)(!1),a=Object(z.a)(o,2),i=a[0],u=a[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(ur,{children:[Object(r.jsx)(sr,{onClick:n,children:"\uc218\uc815"}),Object(r.jsx)(sr,{onClick:function(){u(!0)},children:"\uc0ad\uc81c"})]}),Object(r.jsx)(cr,{visible:i,onConfirm:function(){u(!1),e()},onCancel:function(){u(!1)}})]})},jr=M.a.mark(wr),lr="comment/INITIALIZE",dr="comment/CHANGE_FIELD",fr=V("comment/COMMENT_POST"),Or=Object(z.a)(fr,3),pr=Or[0],mr=Or[1],gr=Or[2],hr=Object(H.a)(lr),vr=Object(H.a)(dr,(function(t){return{key:t.key,value:t.value}})),xr=Object(H.a)(pr,(function(t){return{postId:t.postId,body:t.body}})),yr=X(pr,(function(t){var n=t.postId,e=t.body;return W.post("/api/comments/".concat(n),{body:e})}));function wr(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.d)(pr,yr);case 2:case"end":return t.stop()}}),jr)}var kr={body:"",comment:null,error:null},Er=Object(B.a)((ir={},Object(A.a)(ir,lr,(function(t){return kr})),Object(A.a)(ir,dr,(function(t,n){var e=n.payload,r=e.key,c=e.value;return Object(l.a)(Object(l.a)({},t),{},Object(A.a)({},r,c))})),Object(A.a)(ir,pr,(function(t){return Object(l.a)(Object(l.a)({},t),{},{comment:null,error:null})})),Object(A.a)(ir,mr,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{comment:e})})),Object(A.a)(ir,gr,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{error:e})})),ir),kr);function Cr(){var t=Object(b.a)(["\n    width: 100%;\n\theight: 2.2125rem;\n\t& + & {\n\t\tmargin-left: 0.5rem;\n\t}\n"]);return Cr=function(){return t},t}function Sr(){var t=Object(b.a)(["\n\tmargin-top: 1rem;\n\tmargin-bottom: 3rem;\n\tbutton + button {\n\t\tmargin-left: 0.5rem;\n\t}\n"]);return Sr=function(){return t},t}var Ir=j.b.div(Sr()),Tr=Object(j.b)(h)(Cr());var Pr,_r=function(t){var n=t.onPublish,e=t.isLogin;return Object(r.jsx)(Ir,{children:e?Object(r.jsx)(Tr,{cyan:!0,onClick:n,children:"\ub313\uae00\uc791\uc131"}):Object(r.jsx)(Tr,{gray:!0,onClick:n,disabled:!0,children:"\ub313\uae00\uc791\uc131"})})},Lr=M.a.mark(Hr),Dr=V("comments/COMMENTS_READ"),Rr=Object(z.a)(Dr,3),Nr=Rr[0],Ar=Rr[1],Fr=Rr[2],Mr=Object(H.a)(Nr,(function(t){return t})),zr=X(Nr,(function(t){return W.get("/api/comments/".concat(t))}));function Hr(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.d)(Nr,zr);case 2:case"end":return t.stop()}}),Lr)}var Br=Object(B.a)((Pr={},Object(A.a)(Pr,Ar,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{comments:e})})),Object(A.a)(Pr,Fr,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{error:e})})),Pr),{comments:null,error:null}),Gr=Object(u.e)((function(t){var n=t.history,e=t.match,o=Object(s.b)(),a=e.params.postId,i=Object(s.c)((function(t){var n=t.comment,e=t.user;return{body:n.body,comment:n.comment,error:n.error,user:e.user}})),u=i.body,b=i.comment,j=i.error,l=i.user;return Object(c.useEffect)((function(){b?o(Mr(a)):j&&console.log(j)}),[o,b,j,n,a]),Object(r.jsx)(_r,{onPublish:function(){o(xr({postId:a,body:u}))},isLogin:!!l})}));function Ur(){var t=Object(b.a)(["\n    /* \ud398\uc774\uc9c0 \uc704\uc544\ub798 \uc5ec\ubc31 */\n    padding-top : 2.5rem;\n    padding-bottom : 2.5rem;\n "]);return Ur=function(){return t},t}var Wr=j.b.div(Ur()),Jr=function(t){t.body;var n=t.onChangeField,e=Object(c.useRef)(null),o=Object(c.useRef)(null);Object(c.useEffect)((function(){o.current=new ye.a(e.current,{theme:"snow",placeholder:"\ub313\uae00\uc740 \uc790\uc2e0\uc758 \uc5bc\uad74\uc785\ub2c8\ub2e4.",modules:{toolbar:[["image"]]}},[]);var t=o.current;t.on("text-change",(function(e,r,c){"user"===c&&n({key:"body",value:t.root.innerHTML})}))}),[n]);var a=Object(s.c)((function(t){return{comment:t.comment.comment}})).comment;return Object(c.useEffect)((function(){a||(o.current.root.innerHTML="")}),[a]),Object(r.jsxs)(Wr,{children:[Object(r.jsx)("div",{ref:e}),Object(r.jsx)(Gr,{})]})},qr=Object(u.e)((function(){var t=Object(s.b)(),n=Object(s.c)((function(t){return{body:t.comment.body}})).body,e=Object(c.useCallback)((function(n){return t(vr(n))}),[t]);return Object(c.useEffect)((function(){return function(){t(hr())}}),[t]),Object(r.jsx)(Jr,{onChangeField:e,body:n})}));function Zr(){var t=Object(b.a)(["\n    font-size: 1.25rem;\n    color: ",";\n "]);return Zr=function(){return t},t}function Qr(){var t=Object(b.a)(["\n    padding-top: 1rem;\n    padding-bottom: 1rem;\n\n    &:first-child {\n        padding-top: 0;\n    }\n\n    & + & {\n        border-top: 1px solid ",";\n    }\n "]);return Qr=function(){return t},t}function Kr(){var t=Object(b.a)(["\n\tmargin-top: 3rem;\n"]);return Kr=function(){return t},t}var $r=Object(j.b)(y)(Kr()),Vr=j.b.div(Qr(),f.gray[1]),Xr=j.b.div(Zr(),f.gray[7]),Yr=function(t){var n=t.comment,e=n.publishedDate,c=n.user,o=n.body;return Object(r.jsxs)(Vr,{children:[Object(r.jsx)(Lt,{username:c.username,publishedDate:new Date(e)}),Object(r.jsx)("p",{dangerouslySetInnerHTML:{__html:o}})]})},tc=function(t){var n=t.comments,e=t.loading;return t.error?Object(r.jsx)($r,{children:"\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."}):Object(r.jsx)($r,{children:Object(r.jsx)(Xr,{children:!e&&n&&Object(r.jsx)("div",{children:n.map((function(t){return Object(r.jsx)(Yr,{comment:t},t._id)}))})})})},nc=Object(u.e)((function(t){var n=t.match.params.postId,e=Object(s.b)(),o=Object(s.c)((function(t){var n=t.comments,e=t.loading;return{comments:n.comments,error:n.error,loading:e["comments/COMMENTS_READ"]}})),a=o.comments,i=o.error,u=o.loading;return Object(c.useEffect)((function(){e(Mr(n))}),[e,n]),Object(r.jsx)(tc,{comments:a,loading:u,error:i})}));function ec(){var t=Object(b.a)(["\n    font-size: 1.3125rem;\n    color: ",";\n    border-bottom: 2px solid ",";\n "]);return ec=function(){return t},t}function rc(){var t=Object(b.a)(["\n    border-bottom: 1px solid ",";\n    padding-bottom: 3rem;\n    margin-bottom: 3rem;\n    h1 {\n        font-size: 3rem;\n        line-height: 1.5;\n        margin: 0;\n    }\n "]);return rc=function(){return t},t}function cc(){var t=Object(b.a)(["\n    margin-top: 4rem;\n "]);return cc=function(){return t},t}var oc,ac=Object(j.b)(y)(cc()),ic=j.b.div(rc(),f.gray[2]),uc=j.b.div(ec(),f.gray[8],f.cyan[8]),sc=function(t){var n=t.post,e=t.error,c=t.loading,o=t.actionButtons;if(e)return e.response&&404===e.response.status?Object(r.jsx)(ac,{children:"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3ec\uc2a4\ud2b8\uc785\ub2c8\ub2e4."}):Object(r.jsx)(ac,{children:"\uc624\ub958 \ubc1c\uc0dd!"});if(c||!n)return null;var a=n.title,i=n.body,u=n.user,s=n.publishedDate,b=n.tags;return Object(r.jsxs)(ac,{children:[Object(r.jsx)($n.a,{children:Object(r.jsxs)("title",{children:[u.username," - ",a]})}),Object(r.jsxs)(ic,{children:[Object(r.jsx)("h1",{children:a}),Object(r.jsx)(Lt,{hasMarginTop:!0,username:u.username,publishedDate:s}),Object(r.jsx)(Nt,{tags:b})]}),o,Object(r.jsx)(uc,{dangerouslySetInnerHTML:{__html:i}}),Object(r.jsx)(nc,{}),Object(r.jsx)(qr,{})]})},bc=M.a.mark(vc),jc=V("post/READ_POST"),lc=Object(z.a)(jc,3),dc=lc[0],fc=lc[1],Oc=lc[2],pc="post/UNLOAD_POST",mc=Object(H.a)(dc,(function(t){return t})),gc=Object(H.a)(pc),hc=X(dc,(function(t){return W.get("/api/posts/".concat(t))}));function vc(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.d)(dc,hc);case 2:case"end":return t.stop()}}),bc)}var xc={post:null,error:null},yc=Object(B.a)((oc={},Object(A.a)(oc,fc,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{post:e})})),Object(A.a)(oc,Oc,(function(t,n){var e=n.payload;return Object(l.a)(Object(l.a)({},t),{},{error:e})})),Object(A.a)(oc,pc,(function(){return xc})),oc),xc),wc=Object(u.e)((function(t){var n=t.match,e=t.history,o=n.params.postId,a=Object(s.b)(),i=Object(s.c)((function(t){var n=t.post,e=t.loading,r=t.user;return{post:n.post,error:n.error,loading:e["post/READ_POST"],user:r.user}})),u=i.post,b=i.error,j=i.loading,l=i.user;Object(c.useEffect)((function(){return a(mc(o)),function(){a(gc())}}),[a,o]);var d=function(){var t=Object($e.a)(M.a.mark((function t(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n=o,W.delete("/api/posts/".concat(n));case 3:e.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}var n}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),f=(l&&l._id)===(u&&u.user._id);return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(sc,{post:u,loading:j,error:b,actionButtons:f&&Object(r.jsx)(br,{onEdit:function(){a(Oe(u)),e.push("/write")},onRemove:d})})})})),kc=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(pt,{}),Object(r.jsx)(wc,{})]})};var Ec=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($n.a,{children:Object(r.jsx)("title",{children:"\uc0ac\uc774\ud2b8 \uc81c\ubaa9"})}),Object(r.jsx)(u.a,{component:en,path:["/@:username","/"],exact:!0}),Object(r.jsx)(u.a,{component:qn,path:"/login"}),Object(r.jsx)(u.a,{component:Kn,path:"/register"}),Object(r.jsx)(u.a,{component:Ke,path:"/write"}),Object(r.jsx)(u.a,{component:kc,path:"/@:username/:postId"})," "]})},Cc=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,105)).then((function(n){var e=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,a=n.getTTFB;e(t),r(t),c(t),o(t),a(t)}))},Sc=e(22),Ic=e(65),Tc=e(66),Pc=M.a.mark(_c);function _c(){return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(G.a)([Tn(),lt(),ge(),vc(),Yt(),wr(),Hr()]);case 2:case"end":return t.stop()}}),Pc)}var Lc=Object(Sc.combineReducers)({auth:Ln,loading:$,user:Ot,write:ve,post:yc,posts:tn,comment:Er,comments:Br}),Dc=Object(Tc.a)(),Rc=Object(Sc.createStore)(Lc,Object(Ic.composeWithDevTools)(Object(Sc.applyMiddleware)(Dc)));Dc.run(_c),function(){try{var t=localStorage.getItem("user");if(!t)return;Rc.dispatch(ut(t)),Rc.dispatch(st())}catch(n){console.log("localStorage is not working")}}(),i.a.render(Object(r.jsx)(s.a,{store:Rc,children:Object(r.jsx)(w.a,{children:Object(r.jsx)($n.b,{children:Object(r.jsx)(Ec,{})})})}),document.getElementById("root")),Cc()},72:function(t,n,e){},73:function(t,n,e){}},[[102,1,2]]]);
//# sourceMappingURL=main.33c462be.chunk.js.map